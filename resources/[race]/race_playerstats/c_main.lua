g_Vehicle = nilg_Odometer = {	Enabled = false,	MovementThreshold = 0.05,	Distance = {		0, -- car		0, -- bike		0, -- boat		0, --aircraft		0 -- bycicle	},	Position = { 0, 0, 0 }}Stat = { 4, 5, 6, 8, 27 }g_NextStatUpdate = 0g_SyncPeriod = 7500addEventHandler("onClientMapStarting", root, 	function()		g_Vehicle = getPedOccupiedVehicle(localPlayer)		if not g_Vehicle then	return end		local x, y, z = getElementPosition(g_Vehicle)		g_Odometer.Position = { x, y, z }		g_Odometer.Enabled = true				g_NextStatUpdate = getTickCount() + g_SyncPeriod	end)addEventHandler("onClientMapStopping", root, 	function()		g_Vehicle = nil		g_Odometer.Enabled = false	end)function getDistanceTableIndexOfVehicle(vehicle)	local modelId = getElementModel(vehicle)	if ModelID.MotorBikes[modelId] then return 2 end	if ModelID.Boats[modelId] then return 3 end	if ModelID.Aircraft[modelId] then return 4 end	if ModelID.Bikes[modelId] then return 5 end	if ModelID.Exempt[modelId] then return 0 end	return 1endfunction SyncStats()	local playerStats = {}		local nonZero = false	local i	for i = 1,5 do		if g_Odometer.Distance[i] > g_Odometer.MovementThreshold then nonZero = true end		playerStats[Stat[i]] = g_Odometer.Distance[i] -- / 1000		g_Odometer.Distance[i] = 0	end	if nonZero then		triggerServerEvent("onBulkUpdateStats", localPlayer, playerStats)	end		g_NextStatUpdate = getTickCount() + g_SyncPeriodendfunction RecordDistance()	if not g_Odometer.Enabled then return end	if not g_Vehicle then return end		local x, y, z = getElementPosition(g_Vehicle)	local delta = getDistanceBetweenPoints3D(x, y, z, g_Odometer.Position[1], g_Odometer.Position[2], g_Odometer.Position[3])	g_Odometer.Position = { x, y, z }		local index = getDistanceTableIndexOfVehicle(g_Vehicle)	if index ~= 0 then		g_Odometer.Distance[index] = g_Odometer.Distance[index] + delta	end		if getTickCount() > g_NextStatUpdate then		SyncStats()	endendaddEvent("onClientScreenFadedIn", true)addEventHandler("onClientScreenFadedIn", root,	function()		g_NextStatUpdate = getTickCount() + g_SyncPeriod		removeEventHandler("onClientRender", root, RecordDistance)		addEventHandler("onClientRender", root, RecordDistance)	end)addEvent("onClientScreenFadedOut", true)addEventHandler("onClientScreenFadedOut", root,	function ()		removeEventHandler("onClientRender", root, RecordDistance)	end)